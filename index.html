<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content=
		"width=device-width, initial-scale=1.0">
</head>

<body>

	ABC

	<form>
    <div class="form-control">
        <label for="name">Full Name</label>
        <input id="name" name="name" type="text" />
    </div>
    <div class="form-control">
        <label for="email">Email Address</label>
        <input id="email" name="email" type="email" />
    </div>
    <div class="form-control">
        <label for="message">Enter a Message</label>
        <textarea id="message" name="message" rows="6" cols="65"></textarea>
    </div>
    <button id="bbb" class="btn" type="submit">Send</button>
</form>
	
	<script type="text/javascript">

		const download = function (data) {

	// Creating a Blob for having a csv file format
	// and passing the data with type
	const blob = new Blob([data], { type: 'text/csv' });

	// Creating an object for downloading url
	const url = window.URL.createObjectURL(blob)

	// Creating an anchor(a) tag of HTML
	const a = document.createElement('a')

	// Passing the blob downloading url
	a.setAttribute('href', url)

	// Setting the anchor tag attribute for downloading
	// and passing the download file name
	a.setAttribute('download', 'download.csv');

	// Performing a download with click
	a.click()
}

const csvmaker = function (data) {

	// Empty array for storing the values
	csvRows = [];

	// Headers is basically a keys of an
	// object which is id, name, and
	// profession
	const headers = Object.keys(data);

	// As for making csv format, headers
	// must be separated by comma and
	// pushing it into array
	csvRows.push(headers.join(','));

	// Pushing Object values into array
	// with comma separation
	const values = Object.values(data).join(',');
	csvRows.push(values)

	// Returning the array joining with new line
	return csvRows.join('\n')
}

	const callbackFunction = async function (event) {
//		function callbackFunction(event) {
 

const data = {
		id: 1,
		name: "Geeks",
		profession: "developer"
	}
		
//		event.preventDefault();
//    const myFormData = new FormData(event.target);
//    console.log(myFormData);

//     const data = Object.fromEntries(myFormData.entries());
	
	const csvdata = csvmaker(data);
	download(csvdata);

			
}

//const get = async function (event) {

	// JavaScript object
//	const data = {
//		id: 1,
//		name: "Geeks",
//		profession: "developer"
//	}
//event.preventDefault();
//	const myFormData = new FormData(event.target);
   

// Getting element by id and adding
// eventlistener to listen everytime
// button get pressed

//const form = document.getElementById('contact-form');

//form.addEventListener('submit', callbackFunction);

		

const form = document.getElementById('bbb');
form.addEventListener('click', callbackFunction);
		
//const btn = document.getElementById('action');
//btn.addEventListener('click', get);
		</script>
</body>

</html>
